//chat window funcionality
//wraps the stream and so on
//useful for stubbing tests
